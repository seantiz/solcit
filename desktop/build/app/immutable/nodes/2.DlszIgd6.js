const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/jobIO.DcVUEWxr.js","../chunks/preload-helper.C1FmrZbK.js","../chunks/jobHistory.D4H1ikTC.js","../chunks/index.BcG8yTW1.js","../chunks/scheduler.D6LveowX.js"])))=>i.map(i=>d[i]);
import{_ as yn}from"../chunks/preload-helper.C1FmrZbK.js";import{c as Nn,P as Dt,b as sn,d as Ln,j as _e,u as Jn}from"../chunks/jobIO.DcVUEWxr.js";import{w as Mt}from"../chunks/index.BcG8yTW1.js";import{b as Pt,f as Nt,a as Lt,c as St,j as dt,u as Tn}from"../chunks/jobHistory.D4H1ikTC.js";import{b as ke,n as ae,c as An,a as Mn,g as It,B as Ee}from"../chunks/jobApplication.EIarE9WW.js";import{r as ht,s as bt,e as m,a as D,c as g,b as v,l as ce,g as S,f as _,m as c,i as B,h as p,w as Z,n as G,v as Vt,t as K,d as Q,j as Be,a3 as Vn,Q as ze,a4 as Jt,G as ge,H as ve,a5 as on,a6 as ln,a7 as qn,C as cn,k as we,I as ye,y as xe,x as nt,a8 as un,J as Bn,z as De,a9 as Fn,aa as On}from"../chunks/scheduler.D6LveowX.js";import{t as V,a as A,S as _t,i as mt,g as rt,c as at,k as Ie,n as fn,l as Hn,b as Se,d as se,e as ie,m as oe,f as le,h as qt,j as Bt}from"../chunks/index.BX5eqv6I.js";import{e as dn,f as je,b as pt}from"../chunks/index.u8DVBFub.js";function pn(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Rn(t,e){V(t,1,1,()=>{e.delete(t.key)})}function Un(t,e,n,r,s,a,l,i,o,u,h,b){let y=t.length,x=a.length,w=y;const j={};for(;w--;)j[t[w].key]=w;const $=[],k=new Map,C=new Map,P=[];for(w=x;w--;){const J=b(s,a,w),F=n(J);let T=l.get(F);T?P.push(()=>T.p(J,e)):(T=u(F,J),T.c()),k.set(F,$[w]=T),F in j&&C.set(F,Math.abs(w-j[F]))}const I=new Set,q=new Set;function O(J){A(J,1),J.m(i,h),l.set(J.key,J),h=J.first,x--}for(;y&&x;){const J=$[x-1],F=t[y-1],T=J.key,ee=F.key;J===F?(h=J.first,y--,x--):k.has(ee)?!l.has(T)||I.has(T)?O(J):q.has(ee)?y--:C.get(T)>C.get(ee)?(q.add(T),O(J)):(I.add(ee),y--):(o(F,l),y--)}for(;y--;){const J=t[y];k.has(J.key)||o(J,l)}for(;x;)O($[x-1]);return ht(P),$}function zn(t,e){const n={},r={},s={$$scope:1};let a=t.length;for(;a--;){const l=t[a],i=e[a];if(i){for(const o in l)o in i||(r[o]=1);for(const o in i)s[o]||(n[o]=i[o],s[o]=1);t[a]=i}else for(const o in l)s[o]=1}for(const l in r)l in n||(n[l]=void 0);return n}function Gn(t){let e,n=t[0].length+"",r;return{c(){e=m("p"),r=K(n),this.h()},l(s){e=g(s,"P",{class:!0});var a=v(e);r=Q(a,n),a.forEach(_),this.h()},h(){c(e,"class","text-end text-2xl text-neutral-500")},m(s,a){B(s,e,a),p(e,r)},p(s,a){a&1&&n!==(n=s[0].length+"")&&Be(r,n)},d(s){s&&_(e)}}}function Yn(t){let e,n="No new Indeed listings";return{c(){e=m("p"),e.textContent=n},l(r){e=g(r,"P",{"data-svelte-h":!0}),ce(e)!=="svelte-ps40el"&&(e.textContent=n)},m(r,s){B(r,e,s)},p:G,d(r){r&&_(e)}}}function Kn(t){let e,n,r="Indeed",s,a,l;function i(h,b){return h[0].length===0?Yn:Gn}let o=i(t),u=o(t);return{c(){e=m("div"),n=m("h2"),n.textContent=r,s=D(),u.c(),this.h()},l(h){e=g(h,"DIV",{class:!0,role:!0,tabindex:!0});var b=v(e);n=g(b,"H2",{class:!0,"data-svelte-h":!0}),ce(n)!=="svelte-hth9ot"&&(n.textContent=r),s=S(b),u.l(b),b.forEach(_),this.h()},h(){c(n,"class","mb-4 text-xl font-semibold"),c(e,"class","cursor-pointer rounded-lg bg-neutral-300 p-4 shadow dark:bg-slate-800"),c(e,"role","button"),c(e,"tabindex","0")},m(h,b){B(h,e,b),p(e,n),p(e,s),u.m(e,null),a||(l=[Z(e,"click",t[1]),Z(e,"keydown",t[2])],a=!0)},p(h,[b]){o===(o=i(h))&&u?u.p(h,b):(u.d(1),u=o(h),u&&(u.c(),u.m(e,null)))},i:G,o:G,d(h){h&&_(e),u.d(),a=!1,ht(l)}}}function Qn(t,e,n){let r,{jobs:s}=e;const a=Vt();function l(){a("loadNewJobs","indeed")}function i(){a("loadNewJobs","indeed")}return t.$$set=o=>{"jobs"in o&&n(3,s=o.jobs)},t.$$.update=()=>{t.$$.dirty&8&&n(0,r=s.filter(o=>!o.read&&o.source==="indeed"))},[r,l,i,s]}class Wn extends _t{constructor(e){super(),mt(this,e,Qn,Kn,bt,{jobs:3})}}function Xn(t){let e,n=t[0].length+"",r;return{c(){e=m("p"),r=K(n),this.h()},l(s){e=g(s,"P",{class:!0});var a=v(e);r=Q(a,n),a.forEach(_),this.h()},h(){c(e,"class","text-end text-2xl text-neutral-500")},m(s,a){B(s,e,a),p(e,r)},p(s,a){a&1&&n!==(n=s[0].length+"")&&Be(r,n)},d(s){s&&_(e)}}}function Zn(t){let e,n="No new Indeed listings";return{c(){e=m("p"),e.textContent=n},l(r){e=g(r,"P",{"data-svelte-h":!0}),ce(e)!=="svelte-ps40el"&&(e.textContent=n)},m(r,s){B(r,e,s)},p:G,d(r){r&&_(e)}}}function er(t){let e,n,r="Jooble",s,a,l;function i(h,b){return h[0].length===0?Zn:Xn}let o=i(t),u=o(t);return{c(){e=m("div"),n=m("h2"),n.textContent=r,s=D(),u.c(),this.h()},l(h){e=g(h,"DIV",{class:!0,role:!0,tabindex:!0});var b=v(e);n=g(b,"H2",{class:!0,"data-svelte-h":!0}),ce(n)!=="svelte-14q4gvh"&&(n.textContent=r),s=S(b),u.l(b),b.forEach(_),this.h()},h(){c(n,"class","mb-4 text-xl font-semibold"),c(e,"class","cursor-pointer rounded-lg bg-neutral-300 p-4 shadow dark:bg-slate-800"),c(e,"role","button"),c(e,"tabindex","0")},m(h,b){B(h,e,b),p(e,n),p(e,s),u.m(e,null),a||(l=[Z(e,"click",t[1]),Z(e,"keydown",t[2])],a=!0)},p(h,[b]){o===(o=i(h))&&u?u.p(h,b):(u.d(1),u=o(h),u&&(u.c(),u.m(e,null)))},i:G,o:G,d(h){h&&_(e),u.d(),a=!1,ht(l)}}}function tr(t,e,n){let r,{jobs:s}=e;const a=Vt();function l(){a("loadNewJobs","jooble")}function i(){a("loadNewJobs","jooble")}return t.$$set=o=>{"jobs"in o&&n(3,s=o.jobs)},t.$$.update=()=>{t.$$.dirty&8&&n(0,r=s.filter(o=>!o.read&&o.source==="jooble"))},[r,l,i,s]}class nr extends _t{constructor(e){super(),mt(this,e,tr,er,bt,{jobs:3})}}function hn(t){let e,n,r,s,a;return{c(){e=m("a"),n=K("Find Out More"),this.h()},l(l){e=g(l,"A",{href:!0,target:!0,rel:!0,class:!0});var i=v(e);n=Q(i,"Find Out More"),i.forEach(_),this.h()},h(){c(e,"href",r=_n(t[0])),c(e,"target","_blank"),c(e,"rel","noopener noreferrer"),c(e,"class","inline-block h-14 w-32 transform rounded-2xl bg-slate-600 text-center leading-[3.5rem] text-white shadow-xl transition-all duration-150 hover:-translate-y-0.5 hover:bg-neutral-800 hover:shadow-2xl focus:outline-none")},m(l,i){B(l,e,i),p(e,n),a=!0},p(l,i){(!a||i&1&&r!==(r=_n(l[0])))&&c(e,"href",r)},i(l){a||(l&&ze(()=>{a&&(s||(s=Ie(e,je,{duration:12e3,delay:3e3,easing:dn},!0)),s.run(1))}),a=!0)},o(l){l&&(s||(s=Ie(e,je,{duration:12e3,delay:3e3,easing:dn},!1)),s.run(0)),a=!1},d(l){l&&_(e),l&&s&&s.end()}}}function rr(t){let e,n,r,s=t[0].company+"",a,l,i,o,u=t[0].title+"",h,b,y,x,w=t[0].location+"",j,$,k,C,P=t[0].salary+"",I,q,O,J,F=bn(t[0].fetched_date)+"",T,ee,te,W,ne,pe,H,Pe,Ne,R,re,Le,f,z,N=t[3]&&hn(t);return{c(){e=m("li"),n=m("div"),r=m("h2"),a=K(s),l=D(),i=m("p"),o=K("Job Title: "),h=K(u),b=D(),y=m("p"),x=K("Location: "),j=K(w),$=D(),k=m("p"),C=K("Salary: "),I=K(P),q=D(),O=m("p"),J=K("Fetched Date: "),T=K(F),ee=D(),te=m("div"),N&&N.c(),W=D(),ne=m("div"),pe=m("label"),H=m("input"),Pe=K(`
			Read`),Ne=D(),R=m("label"),re=m("input"),Le=K(`
			Applied To`),this.h()},l(M){e=g(M,"LI",{class:!0});var L=v(e);n=g(L,"DIV",{class:!0});var U=v(n);r=g(U,"H2",{class:!0});var Fe=v(r);a=Q(Fe,s),Fe.forEach(_),l=S(U),i=g(U,"P",{});var X=v(i);o=Q(X,"Job Title: "),h=Q(X,u),X.forEach(_),b=S(U),y=g(U,"P",{});var me=v(y);x=Q(me,"Location: "),j=Q(me,w),me.forEach(_),$=S(U),k=g(U,"P",{});var Ge=v(k);C=Q(Ge,"Salary: "),I=Q(Ge,P),Ge.forEach(_),q=S(U),O=g(U,"P",{});var ue=v(O);J=Q(ue,"Fetched Date: "),T=Q(ue,F),ue.forEach(_),ee=S(U),te=g(U,"DIV",{class:!0});var Xe=v(te);N&&N.l(Xe),Xe.forEach(_),U.forEach(_),W=S(L),ne=g(L,"DIV",{class:!0});var Oe=v(ne);pe=g(Oe,"LABEL",{});var fe=v(pe);H=g(fe,"INPUT",{type:!0}),Pe=Q(fe,`
			Read`),fe.forEach(_),Ne=S(Oe),R=g(Oe,"LABEL",{class:!0});var Ye=v(R);re=g(Ye,"INPUT",{type:!0}),Le=Q(Ye,`
			Applied To`),Ye.forEach(_),Oe.forEach(_),L.forEach(_),this.h()},h(){c(r,"class","text-xl font-bold"),c(te,"class","flex flex-col items-end justify-end"),c(n,"class","flex-grow p-10"),c(H,"type","checkbox"),c(re,"type","checkbox"),c(R,"class","pl-4"),c(ne,"class","ml-4 flex px-5 pb-10 text-lg font-bold"),c(e,"class","flex min-h-full w-full snap-start flex-col rounded-2xl bg-neutral-100 dark:bg-neutral-800 dark:text-white")},m(M,L){B(M,e,L),p(e,n),p(n,r),p(r,a),p(n,l),p(n,i),p(i,o),p(i,h),p(n,b),p(n,y),p(y,x),p(y,j),p(n,$),p(n,k),p(k,C),p(k,I),p(n,q),p(n,O),p(O,J),p(O,T),p(n,ee),p(n,te),N&&N.m(te,null),p(e,W),p(e,ne),p(ne,pe),p(pe,H),H.checked=t[1],p(pe,Pe),p(ne,Ne),p(ne,R),p(R,re),re.checked=t[2],p(R,Le),f||(z=[Vn(t[5].call(null,te)),Z(H,"change",t[6]),Z(H,"change",t[7]),Z(re,"change",t[8]),Z(re,"change",t[9])],f=!0)},p(M,[L]){L&1&&s!==(s=M[0].company+"")&&Be(a,s),L&1&&u!==(u=M[0].title+"")&&Be(h,u),L&1&&w!==(w=M[0].location+"")&&Be(j,w),L&1&&P!==(P=M[0].salary+"")&&Be(I,P),L&1&&F!==(F=bn(M[0].fetched_date)+"")&&Be(T,F),M[3]?N?(N.p(M,L),L&8&&A(N,1)):(N=hn(M),N.c(),A(N,1),N.m(te,null)):N&&(rt(),V(N,1,1,()=>{N=null}),at()),L&2&&(H.checked=M[1]),L&4&&(re.checked=M[2])},i(M){A(N)},o(M){V(N)},d(M){M&&_(e),N&&N.d(),f=!1,ht(z)}}}function bn(t){return new Date(t).toLocaleDateString()}function _n(t){return t.source==="indeed"?`https://it.indeed.com/jobs?q=insegnante+madrelingua+inglese&vjk=${t.jobkey}`:t.source==="jooble"?`https://it.jooble.org/desc/${t.jobkey}?ckey=insegnante+madrelingua+inglese`:"#"}function ar(t,e,n){let{job:r}=e,s=r.read,a=r.appliedto,l,i=!1;const o=Vt();async function u($,k,C){if(!C){n(0,r={...r,[k]:C}),o("refresh",{jobId:r.id,field:k,value:C});return}await Nn("Do you want to mark job listing as read?","Confirmation")?(n(0,r={...r,[k]:C}),o("refresh",{jobId:r.id,field:k,value:C})):k==="read"?n(1,s=!C):n(2,a=!C)}function h($){const[k]=$;n(3,i=k.isIntersecting)}function b($){return l=new IntersectionObserver(h,{root:null,rootMargin:"0px",threshold:.1}),l.observe($),{destroy(){l.disconnect()}}}function y(){s=this.checked,n(1,s)}const x=()=>u(r.id,"read",s);function w(){a=this.checked,n(2,a)}const j=()=>u(r.id,"appliedto",a);return t.$$set=$=>{"job"in $&&n(0,r=$.job)},[r,s,a,i,u,b,y,x,w,j]}class sr extends _t{constructor(e){super(),mt(this,e,ar,rr,bt,{job:0})}}function ir(t){let e,n,r,s,a,l,i,o,u,h,b,y=[t[0],{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 200 200"}],x={};for(let w=0;w<y.length;w+=1)x=Jt(x,y[w]);return{c(){e=ge("svg"),n=ge("circle"),r=ge("animate"),s=ge("circle"),a=ge("animate"),l=ge("circle"),i=ge("animate"),o=ge("circle"),u=ge("animate"),h=ge("circle"),b=ge("animate"),this.h()},l(w){e=ve(w,"svg",{xmlns:!0,viewBox:!0});var j=v(e);n=ve(j,"circle",{fill:!0,stroke:!0,"stroke-width":!0,r:!0,cx:!0,cy:!0});var $=v(n);r=ve($,"animate",{attributeName:!0,calcMode:!0,dur:!0,values:!0,keySplines:!0,repeatCount:!0,begin:!0}),v(r).forEach(_),$.forEach(_),s=ve(j,"circle",{fill:!0,stroke:!0,"stroke-width":!0,opacity:!0,r:!0,cx:!0,cy:!0});var k=v(s);a=ve(k,"animate",{attributeName:!0,calcMode:!0,dur:!0,values:!0,keySplines:!0,repeatCount:!0,begin:!0}),v(a).forEach(_),k.forEach(_),l=ve(j,"circle",{fill:!0,stroke:!0,"stroke-width":!0,opacity:!0,r:!0,cx:!0,cy:!0});var C=v(l);i=ve(C,"animate",{attributeName:!0,calcMode:!0,dur:!0,values:!0,keySplines:!0,repeatCount:!0,begin:!0}),v(i).forEach(_),C.forEach(_),o=ve(j,"circle",{fill:!0,stroke:!0,"stroke-width":!0,opacity:!0,r:!0,cx:!0,cy:!0});var P=v(o);u=ve(P,"animate",{attributeName:!0,calcMode:!0,dur:!0,values:!0,keySplines:!0,repeatCount:!0,begin:!0}),v(u).forEach(_),P.forEach(_),h=ve(j,"circle",{fill:!0,stroke:!0,"stroke-width":!0,opacity:!0,r:!0,cx:!0,cy:!0});var I=v(h);b=ve(I,"animate",{attributeName:!0,calcMode:!0,dur:!0,values:!0,keySplines:!0,repeatCount:!0,begin:!0}),v(b).forEach(_),I.forEach(_),j.forEach(_),this.h()},h(){c(r,"attributeName","cx"),c(r,"calcMode","spline"),c(r,"dur","2"),c(r,"values","35;165;165;35;35"),c(r,"keySplines","0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1"),c(r,"repeatCount","indefinite"),c(r,"begin","0"),c(n,"fill","#DFAE0B"),c(n,"stroke","#DFAE0B"),c(n,"stroke-width","2"),c(n,"r","15"),c(n,"cx","35"),c(n,"cy","100"),c(a,"attributeName","cx"),c(a,"calcMode","spline"),c(a,"dur","2"),c(a,"values","35;165;165;35;35"),c(a,"keySplines","0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1"),c(a,"repeatCount","indefinite"),c(a,"begin","0.05"),c(s,"fill","#DFAE0B"),c(s,"stroke","#DFAE0B"),c(s,"stroke-width","2"),c(s,"opacity",".8"),c(s,"r","15"),c(s,"cx","35"),c(s,"cy","100"),c(i,"attributeName","cx"),c(i,"calcMode","spline"),c(i,"dur","2"),c(i,"values","35;165;165;35;35"),c(i,"keySplines","0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1"),c(i,"repeatCount","indefinite"),c(i,"begin",".1"),c(l,"fill","#DFAE0B"),c(l,"stroke","#DFAE0B"),c(l,"stroke-width","2"),c(l,"opacity",".6"),c(l,"r","15"),c(l,"cx","35"),c(l,"cy","100"),c(u,"attributeName","cx"),c(u,"calcMode","spline"),c(u,"dur","2"),c(u,"values","35;165;165;35;35"),c(u,"keySplines","0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1"),c(u,"repeatCount","indefinite"),c(u,"begin",".15"),c(o,"fill","#DFAE0B"),c(o,"stroke","#DFAE0B"),c(o,"stroke-width","2"),c(o,"opacity",".4"),c(o,"r","15"),c(o,"cx","35"),c(o,"cy","100"),c(b,"attributeName","cx"),c(b,"calcMode","spline"),c(b,"dur","2"),c(b,"values","35;165;165;35;35"),c(b,"keySplines","0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1"),c(b,"repeatCount","indefinite"),c(b,"begin",".2"),c(h,"fill","#DFAE0B"),c(h,"stroke","#DFAE0B"),c(h,"stroke-width","2"),c(h,"opacity",".2"),c(h,"r","15"),c(h,"cx","35"),c(h,"cy","100"),on(e,x)},m(w,j){B(w,e,j),p(e,n),p(n,r),p(e,s),p(s,a),p(e,l),p(l,i),p(e,o),p(o,u),p(e,h),p(h,b)},p(w,[j]){on(e,x=zn(y,[j&1&&w[0],{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 200 200"}]))},i:G,o:G,d(w){w&&_(e)}}}function or(t,e,n){const r=["restProps"];let s=ln(e,r),{...a}={},{restProps:l=a}=e;return t.$$set=i=>{e=Jt(Jt({},e),qn(i)),n(0,s=ln(e,r)),"restProps"in i&&n(1,l=i.restProps)},[s,l]}class lr extends _t{constructor(e){super(),mt(this,e,or,ir,bt,{restProps:1})}}const cr=typeof window<"u"?yn(()=>import("../chunks/jobIO.DcVUEWxr.js").then(t=>t.e),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(t=>t.jobhunter):new Promise(()=>({})),ur=typeof window<"u"?yn(()=>import("../chunks/jobIO.DcVUEWxr.js").then(t=>t.e),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(t=>t.loadApplicantConfig):new Promise(()=>()=>Promise.resolve({}));let Tt=Mt(!1);const fr=async()=>(typeof window<"u"&&dr(),{initialised:Tt});async function dr(){if(typeof window>"u")return;const t=await cr;t.startServer();async function e(){{const a=await t.resolvePath(Dt,sn),l=await t.read(a);return JSON.parse(l).coverLetter||""}}async function n(){{const a=await t.resolvePath(Dt,Ln);return await t.read(a)||""}}async function r(){{const a=await t.resolvePath(Dt,sn);return await t.read(a)}}async function s(){if(!(typeof window>"u"))try{const l=await(await ur)(),i=await n(),o=await e();ke.set(JSON.parse(i)),ae.set(l),An.set(o);const u=await r();Mn.set(JSON.parse(u).cvFilename);const[h,b]=await Promise.all([t.tauriCommand("get_unread_jobs"),t.tauriCommand("get_stats")]);Pt.set(h),b?(Nt.set(b.uniquejobs),Lt.set(b.appliedjobs)):await t.showMessage("No stats data received",{title:"Warning",type:"error"})}catch{Nt.set(0),Lt.set(0),await t.showMessage("Failed to initialize app.",{title:"Error",type:"error"})}}try{await s(),Tt.set(!0)}catch{await t.showMessage("Failed to initialize app.",{title:"Error",type:"error"}),Tt.set(!0)}}const pr=!1,Jr=Object.freeze(Object.defineProperty({__proto__:null,load:fr,ssr:pr},Symbol.toStringTag,{value:"Module"}));function mn(t){return Object.prototype.toString.call(t)==="[object Date]"}function At(t,e,n,r){if(typeof n=="number"||mn(n)){const s=r-n,a=(n-e)/(t.dt||1/60),l=t.opts.stiffness*s,i=t.opts.damping*a,o=(l-i)*t.inv_mass,u=(a+o)*t.dt;return Math.abs(u)<t.opts.precision&&Math.abs(s)<t.opts.precision?r:(t.settled=!1,mn(n)?new Date(n.getTime()+u):n+u)}else{if(Array.isArray(n))return n.map((s,a)=>At(t,e[a],n[a],r[a]));if(typeof n=="object"){const s={};for(const a in n)s[a]=At(t,e[a],n[a],r[a]);return s}else throw new Error(`Cannot spring ${typeof n} values`)}}function gn(t,e={}){const n=Mt(t),{stiffness:r=.15,damping:s=.8,precision:a=.01}=e;let l,i,o,u=t,h=t,b=1,y=0,x=!1;function w($,k={}){h=$;const C=o={};return t==null||k.hard||j.stiffness>=1&&j.damping>=1?(x=!0,l=fn(),u=$,n.set(t=h),Promise.resolve()):(k.soft&&(y=1/((k.soft===!0?.5:+k.soft)*60),b=0),i||(l=fn(),x=!1,i=Hn(P=>{if(x)return x=!1,i=null,!1;b=Math.min(b+y,1);const I={inv_mass:b,opts:j,settled:!0,dt:(P-l)*60/1e3},q=At(I,u,t,h);return l=P,u=t,n.set(t=q),I.settled&&(i=null),!I.settled})),new Promise(P=>{i.promise.then(()=>{C===o&&P()})}))}const j={set:w,update:($,k)=>w($(h,t),k),subscribe:n.subscribe,stiffness:r,damping:s,precision:a};return j}function vn(t,e,n){const r=t.slice();return r[34]=e[n],r}function hr(t){let e,n='<div class="text-center"><div class="mb-4"><div class="inline-block h-16 w-16 animate-spin rounded-full border-4 border-solid border-yellow-400 border-r-transparent align-[-0.125em]" role="status"><span class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]">Loading...</span></div></div> <p class="text-lg font-semibold text-yellow-400">Starting up. Please wait...</p></div>',r,s;return{c(){e=m("div"),e.innerHTML=n,this.h()},l(a){e=g(a,"DIV",{class:!0,"data-svelte-h":!0}),ce(e)!=="svelte-10ivkar"&&(e.innerHTML=n),this.h()},h(){c(e,"class","fixed inset-0 z-50 flex items-center justify-center bg-slate-900 bg-opacity-75")},m(a,l){B(a,e,l),s=!0},p:G,i(a){s||(a&&ze(()=>{s&&(r||(r=Ie(e,je,{duration:300},!0)),r.run(1))}),s=!0)},o(a){a&&(r||(r=Ie(e,je,{duration:300},!1)),r.run(0)),s=!1},d(a){a&&_(e),a&&r&&r.end()}}}function br(t){let e,n='<div class="text-center"><div class="mb-4"><div class="inline-block h-16 w-16 animate-spin rounded-full border-4 border-solid border-yellow-400 border-r-transparent align-[-0.125em]" role="status"><span class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]">Loading...</span></div></div> <p class="text-lg font-semibold text-yellow-400">Updating job listings...</p> <p class="text-sm font-semibold text-yellow-400">This could take a minute. Please do not quit the app while this task is running!</p></div>',r,s;return{c(){e=m("div"),e.innerHTML=n,this.h()},l(a){e=g(a,"DIV",{class:!0,"data-svelte-h":!0}),ce(e)!=="svelte-1rov89t"&&(e.innerHTML=n),this.h()},h(){c(e,"class","fixed inset-0 z-50 flex items-center justify-center bg-slate-900 bg-opacity-75")},m(a,l){B(a,e,l),s=!0},p:G,i(a){s||(a&&ze(()=>{s&&(r||(r=Ie(e,je,{duration:300},!0)),r.run(1))}),s=!0)},o(a){a&&(r||(r=Ie(e,je,{duration:300},!1)),r.run(0)),s=!1},d(a){a&&_(e),a&&r&&r.end()}}}function _r(t){let e,n,r,s,a,l,i,o,u,h,b,y,x,w,j=t[2]?"Refreshing...":"Update Job Listings",$,k,C,P,I,q,O,J="1. Job Details",F,T,ee,te,W,ne,pe,H,Pe,Ne,R,re,Le,f,z,N="2. My Details",M,L,U,Fe,X,me,Ge,ue,Xe,Oe,fe,Ye,vt,Je,wt,yt,Te,kt,jt,He,Ft="Save Job Application",Ct,Ce,Ke,Ot="3. Cover Letter",$t,Ze,Ae,st=t[9]?"Generating...":"Draft New Cover Letter",gt,Et,Qe,he,be,$e,xt,Ht;const Rt=[gr,mr],Re=[];function Ut(d,E){return d[3]?0:1}s=Ut(t),a=Re[s]=Rt[s](t),u=new Wn({props:{jobs:t[6]}}),u.$on("loadNewJobs",t[19]),y=new nr({props:{jobs:t[6]}}),y.$on("loadNewJobs",t[19]);function kn(d){t[24](d)}let zt={placeholder:"Job Title",className:"transition-all duration-300 focus:ring-2 focus:ring-yellow-300"};t[8].jobTitle!==void 0&&(zt.value=t[8].jobTitle),T=new Ee({props:zt}),xe.push(()=>Se(T,"value",kn));function jn(d){t[25](d)}let Gt={placeholder:"Company Name",className:"transition-all duration-300 focus:ring-2 focus:ring-yellow-300"};t[8].company!==void 0&&(Gt.value=t[8].company),W=new Ee({props:Gt}),xe.push(()=>Se(W,"value",jn));function Cn(d){t[26](d)}let Yt={placeholder:"Job Description",className:"transition-all duration-300 focus:ring-2 focus:ring-yellow-300"};t[8].jobDescription!==void 0&&(Yt.value=t[8].jobDescription),H=new Ee({props:Yt}),xe.push(()=>Se(H,"value",Cn));function $n(d){t[27](d)}let Kt={placeholder:"Key Requirements",className:"transition-all duration-300 focus:ring-2 focus:ring-yellow-300"};t[8].keyRequirements!==void 0&&(Kt.value=t[8].keyRequirements),R=new Ee({props:Kt}),xe.push(()=>Se(R,"value",$n));function En(d){t[28](d)}let Qt={placeholder:"Your Name",className:"transition-all duration-300 focus:ring-2 focus:ring-yellow-300"};t[0].name!==void 0&&(Qt.value=t[0].name),L=new Ee({props:Qt}),xe.push(()=>Se(L,"value",En));function xn(d){t[29](d)}let Wt={placeholder:"Your Experience",className:"transition-all duration-300 focus:ring-2 focus:ring-yellow-300"};t[0].experience!==void 0&&(Wt.value=t[0].experience),X=new Ee({props:Wt}),xe.push(()=>Se(X,"value",xn));function Dn(d){t[30](d)}let Xt={placeholder:"Your Skills",className:"transition-all duration-300 focus:ring-2 focus:ring-yellow-300"};t[0].interests!==void 0&&(Xt.value=t[0].interests),ue=new Ee({props:Xt}),xe.push(()=>Se(ue,"value",Dn));function Sn(d){t[31](d)}let Zt={placeholder:"Your Projects",className:"transition-all duration-300 focus:ring-2 focus:ring-yellow-300"};t[0].projects!==void 0&&(Zt.value=t[0].projects),fe=new Ee({props:Zt}),xe.push(()=>Se(fe,"value",Sn));function In(d){t[32](d)}let en={placeholder:"Your Education",className:"transition-all duration-300 focus:ring-2 focus:ring-yellow-300"};t[0].education!==void 0&&(en.value=t[0].education),Je=new Ee({props:en}),xe.push(()=>Se(Je,"value",In));function Pn(d){t[33](d)}let tn={placeholder:"Your Certificates",className:"transition-all duration-300 focus:ring-2 focus:ring-yellow-300"};t[0].certificates!==void 0&&(tn.value=t[0].certificates),Te=new Ee({props:tn}),xe.push(()=>Se(Te,"value",Pn));const nn=[jr,kr,yr],Ue=[];function rn(d,E){return d[9]?0:d[10]?1:2}return he=rn(t),be=Ue[he]=nn[he](t),{c(){e=m("div"),n=m("div"),r=m("section"),a.c(),l=D(),i=m("div"),o=m("div"),se(u.$$.fragment),h=D(),b=m("div"),se(y.$$.fragment),x=D(),w=m("button"),$=K(j),k=D(),C=m("div"),P=m("div"),I=m("form"),q=m("div"),O=m("h3"),O.textContent=J,F=D(),se(T.$$.fragment),te=D(),se(W.$$.fragment),pe=D(),se(H.$$.fragment),Ne=D(),se(R.$$.fragment),Le=D(),f=m("div"),z=m("h3"),z.textContent=N,M=D(),se(L.$$.fragment),Fe=D(),se(X.$$.fragment),Ge=D(),se(ue.$$.fragment),Oe=D(),se(fe.$$.fragment),vt=D(),se(Je.$$.fragment),yt=D(),se(Te.$$.fragment),jt=D(),He=m("button"),He.textContent=Ft,Ct=D(),Ce=m("div"),Ke=m("h3"),Ke.textContent=Ot,$t=D(),Ze=m("div"),Ae=m("button"),gt=K(st),Et=D(),Qe=m("div"),be.c(),this.h()},l(d){e=g(d,"DIV",{class:!0});var E=v(e);n=g(E,"DIV",{class:!0});var et=v(n);r=g(et,"SECTION",{class:!0,style:!0});var it=v(r);a.l(it),it.forEach(_),et.forEach(_),l=S(E),i=g(E,"DIV",{class:!0});var Me=v(i);o=g(Me,"DIV",{class:!0,role:!0,tabindex:!0,style:!0});var ot=v(o);ie(u.$$.fragment,ot),ot.forEach(_),h=S(Me),b=g(Me,"DIV",{class:!0,role:!0,tabindex:!0,style:!0});var lt=v(b);ie(y.$$.fragment,lt),lt.forEach(_),x=S(Me),w=g(Me,"BUTTON",{class:!0});var ct=v(w);$=Q(ct,j),ct.forEach(_),Me.forEach(_),E.forEach(_),k=S(d),C=g(d,"DIV",{class:!0});var We=v(C);P=g(We,"DIV",{class:!0});var ut=v(P);I=g(ut,"FORM",{class:!0});var Ve=v(I);q=g(Ve,"DIV",{class:!0});var de=v(q);O=g(de,"H3",{class:!0,"data-svelte-h":!0}),ce(O)!=="svelte-1j7muoe"&&(O.textContent=J),F=S(de),ie(T.$$.fragment,de),te=S(de),ie(W.$$.fragment,de),pe=S(de),ie(H.$$.fragment,de),Ne=S(de),ie(R.$$.fragment,de),de.forEach(_),Le=S(Ve),f=g(Ve,"DIV",{class:!0});var Y=v(f);z=g(Y,"H3",{class:!0,"data-svelte-h":!0}),ce(z)!=="svelte-dfqlj2"&&(z.textContent=N),M=S(Y),ie(L.$$.fragment,Y),Fe=S(Y),ie(X.$$.fragment,Y),Ge=S(Y),ie(ue.$$.fragment,Y),Oe=S(Y),ie(fe.$$.fragment,Y),vt=S(Y),ie(Je.$$.fragment,Y),yt=S(Y),ie(Te.$$.fragment,Y),Y.forEach(_),jt=S(Ve),He=g(Ve,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ce(He)!=="svelte-wb3h5b"&&(He.textContent=Ft),Ve.forEach(_),ut.forEach(_),Ct=S(We),Ce=g(We,"DIV",{class:!0});var qe=v(Ce);Ke=g(qe,"H3",{class:!0,"data-svelte-h":!0}),ce(Ke)!=="svelte-1ns3z9o"&&(Ke.textContent=Ot),$t=S(qe),Ze=g(qe,"DIV",{class:!0});var ft=v(Ze);Ae=g(ft,"BUTTON",{class:!0});var tt=v(Ae);gt=Q(tt,st),tt.forEach(_),ft.forEach(_),Et=S(qe),Qe=g(qe,"DIV",{class:!0});var an=v(Qe);be.l(an),an.forEach(_),qe.forEach(_),We.forEach(_),this.h()},h(){c(r,"class","h-[calc(58vh-200px)] snap-y snap-mandatory overflow-y-auto"),nt(r,"scrollbar-width","none"),nt(r,"-ms-overflow-style","none"),c(n,"class","w-2/3 pl-2"),c(o,"class","pb-2"),c(o,"role","button"),c(o,"tabindex","0"),nt(o,"transform","scale("+t[5].scale+") rotate("+t[5].rotate+"deg)"),c(b,"class",""),c(b,"role","button"),c(b,"tabindex","0"),nt(b,"transform","scale("+t[7].scale+") rotate("+t[7].rotate+"deg)"),c(w,"class","mt-4 w-full bg-slate-500 hover:bg-slate-700 dark:text-white font-bold py-2 px-4 rounded"),w.disabled=t[2],c(i,"class","mr-5 w-1/3 pl-2"),c(e,"class","flex flex-row text-sm"),c(O,"class","text-lg font-semibold text-yellow-600"),c(q,"class","input-animation space-y-2 rounded-lg bg-white p-2 shadow-sm transition-all duration-300 focus-within:shadow-lg dark:bg-transparent dark:text-white svelte-op7jjq"),c(z,"class","text-lg font-semibold text-yellow-600"),c(f,"class","input-animation space-y-2 rounded-lg bg-white p-2 shadow-sm transition-all duration-300 focus-within:shadow-lg dark:bg-transparent dark:text-white svelte-op7jjq"),c(He,"type","submit"),c(He,"class","w-full rounded-md bg-yellow-600 px-2 py-2 text-white transition-all duration-300 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2"),c(I,"class","space-y-6"),c(P,"class","w-1/3 space-y-8 rounded-lg bg-gradient-to-b from-yellow-50 to-yellow-400 p-6 shadow-lg dark:bg-gradient-to-b dark:from-slate-800 dark:to-slate-900"),c(Ke,"class","text-lg font-semibold text-yellow-600"),c(Ae,"class","mb-2 rounded-2xl bg-yellow-600 px-4 py-4 text-neutral-100 transition-all duration-300 hover:bg-yellow-800"),Ae.disabled=t[9],c(Ze,"class","flex flex-col items-center justify-center text-sm"),c(Qe,"class","min-h-[60vh] rounded-2xl bg-white p-6 shadow-sm dark:bg-transparent dark:text-neutral-100"),c(Ce,"class","w-2/3 space-y-8 rounded-lg bg-gradient-to-b from-yellow-50 to-yellow-400 p-6 shadow-lg dark:bg-gradient-to-b dark:from-slate-800 dark:to-slate-900"),c(C,"class","mt-4 flex flex-row space-x-8 text-sm")},m(d,E){B(d,e,E),p(e,n),p(n,r),Re[s].m(r,null),p(e,l),p(e,i),p(i,o),oe(u,o,null),p(i,h),p(i,b),oe(y,b,null),p(i,x),p(i,w),p(w,$),B(d,k,E),B(d,C,E),p(C,P),p(P,I),p(I,q),p(q,O),p(q,F),oe(T,q,null),p(q,te),oe(W,q,null),p(q,pe),oe(H,q,null),p(q,Ne),oe(R,q,null),p(I,Le),p(I,f),p(f,z),p(f,M),oe(L,f,null),p(f,Fe),oe(X,f,null),p(f,Ge),oe(ue,f,null),p(f,Oe),oe(fe,f,null),p(f,vt),oe(Je,f,null),p(f,yt),oe(Te,f,null),p(I,jt),p(I,He),p(C,Ct),p(C,Ce),p(Ce,Ke),p(Ce,$t),p(Ce,Ze),p(Ze,Ae),p(Ae,gt),p(Ce,Et),p(Ce,Qe),Ue[he].m(Qe,null),$e=!0,xt||(Ht=[Z(o,"click",un(t[15])),Z(o,"keydown",t[17]),Z(b,"click",un(t[16])),Z(b,"keydown",t[18]),Z(w,"click",t[20]),Z(I,"submit",Bn(t[21])),Z(Ae,"click",t[22])],xt=!0)},p(d,E){let et=s;s=Ut(d),s===et?Re[s].p(d,E):(rt(),V(Re[et],1,1,()=>{Re[et]=null}),at(),a=Re[s],a?a.p(d,E):(a=Re[s]=Rt[s](d),a.c()),A(a,1),a.m(r,null));const it={};E[0]&64&&(it.jobs=d[6]),u.$set(it),(!$e||E[0]&32)&&nt(o,"transform","scale("+d[5].scale+") rotate("+d[5].rotate+"deg)");const Me={};E[0]&64&&(Me.jobs=d[6]),y.$set(Me),(!$e||E[0]&128)&&nt(b,"transform","scale("+d[7].scale+") rotate("+d[7].rotate+"deg)"),(!$e||E[0]&4)&&j!==(j=d[2]?"Refreshing...":"Update Job Listings")&&Be($,j),(!$e||E[0]&4)&&(w.disabled=d[2]);const ot={};!ee&&E[0]&256&&(ee=!0,ot.value=d[8].jobTitle,De(()=>ee=!1)),T.$set(ot);const lt={};!ne&&E[0]&256&&(ne=!0,lt.value=d[8].company,De(()=>ne=!1)),W.$set(lt);const ct={};!Pe&&E[0]&256&&(Pe=!0,ct.value=d[8].jobDescription,De(()=>Pe=!1)),H.$set(ct);const We={};!re&&E[0]&256&&(re=!0,We.value=d[8].keyRequirements,De(()=>re=!1)),R.$set(We);const ut={};!U&&E[0]&1&&(U=!0,ut.value=d[0].name,De(()=>U=!1)),L.$set(ut);const Ve={};!me&&E[0]&1&&(me=!0,Ve.value=d[0].experience,De(()=>me=!1)),X.$set(Ve);const de={};!Xe&&E[0]&1&&(Xe=!0,de.value=d[0].interests,De(()=>Xe=!1)),ue.$set(de);const Y={};!Ye&&E[0]&1&&(Ye=!0,Y.value=d[0].projects,De(()=>Ye=!1)),fe.$set(Y);const qe={};!wt&&E[0]&1&&(wt=!0,qe.value=d[0].education,De(()=>wt=!1)),Je.$set(qe);const ft={};!kt&&E[0]&1&&(kt=!0,ft.value=d[0].certificates,De(()=>kt=!1)),Te.$set(ft),(!$e||E[0]&512)&&st!==(st=d[9]?"Generating...":"Draft New Cover Letter")&&Be(gt,st),(!$e||E[0]&512)&&(Ae.disabled=d[9]);let tt=he;he=rn(d),he===tt?Ue[he].p(d,E):(rt(),V(Ue[tt],1,1,()=>{Ue[tt]=null}),at(),be=Ue[he],be?be.p(d,E):(be=Ue[he]=nn[he](d),be.c()),A(be,1),be.m(Qe,null))},i(d){$e||(A(a),A(u.$$.fragment,d),A(y.$$.fragment,d),A(T.$$.fragment,d),A(W.$$.fragment,d),A(H.$$.fragment,d),A(R.$$.fragment,d),A(L.$$.fragment,d),A(X.$$.fragment,d),A(ue.$$.fragment,d),A(fe.$$.fragment,d),A(Je.$$.fragment,d),A(Te.$$.fragment,d),A(be),$e=!0)},o(d){V(a),V(u.$$.fragment,d),V(y.$$.fragment,d),V(T.$$.fragment,d),V(W.$$.fragment,d),V(H.$$.fragment,d),V(R.$$.fragment,d),V(L.$$.fragment,d),V(X.$$.fragment,d),V(ue.$$.fragment,d),V(fe.$$.fragment,d),V(Je.$$.fragment,d),V(Te.$$.fragment,d),V(be),$e=!1},d(d){d&&(_(e),_(k),_(C)),Re[s].d(),le(u),le(y),le(T),le(W),le(H),le(R),le(L),le(X),le(ue),le(fe),le(Je),le(Te),Ue[he].d(),xt=!1,ht(Ht)}}}function mr(t){let e,n='<p class="font-semibold text-yellow-600">Click a job source to get started.</p>';return{c(){e=m("div"),e.innerHTML=n,this.h()},l(r){e=g(r,"DIV",{class:!0,"data-svelte-h":!0}),ce(e)!=="svelte-15f08j2"&&(e.innerHTML=n),this.h()},h(){c(e,"class","flex h-full flex-col items-center justify-center")},m(r,s){B(r,e,s)},p:G,i:G,o:G,d(r){r&&_(e)}}}function gr(t){let e,n,r,s,a;const l=[wr,vr],i=[];function o(u,h){return u[4].length===0?0:1}return n=o(t),r=i[n]=l[n](t),{c(){e=m("div"),r.c(),this.h()},l(u){e=g(u,"DIV",{class:!0});var h=v(e);r.l(h),h.forEach(_),this.h()},h(){c(e,"class","")},m(u,h){B(u,e,h),i[n].m(e,null),a=!0},p(u,h){let b=n;n=o(u),n===b?i[n].p(u,h):(rt(),V(i[b],1,1,()=>{i[b]=null}),at(),r=i[n],r?r.p(u,h):(r=i[n]=l[n](u),r.c()),A(r,1),r.m(e,null))},i(u){a||(A(r),u&&ze(()=>{a&&(s||(s=Ie(e,pt,{x:500,duration:700},!0)),s.run(1))}),a=!0)},o(u){V(r),u&&(s||(s=Ie(e,pt,{x:500,duration:700},!1)),s.run(0)),a=!1},d(u){u&&_(e),i[n].d(),u&&s&&s.end()}}}function vr(t){let e,n=[],r=new Map,s,a=pn(t[4]);const l=i=>i[34].id;for(let i=0;i<a.length;i+=1){let o=vn(t,a,i),u=l(o);r.set(u,n[i]=wn(u,o))}return{c(){e=m("ul");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=g(i,"UL",{class:!0});var o=v(e);for(let u=0;u<n.length;u+=1)n[u].l(o);o.forEach(_),this.h()},h(){c(e,"class","")},m(i,o){B(i,e,o);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);s=!0},p(i,o){o[0]&16&&(a=pn(i[4]),rt(),n=Un(n,o,l,1,i,a,r,e,Rn,wn,null,vn),at())},i(i){if(!s){for(let o=0;o<a.length;o+=1)A(n[o]);s=!0}},o(i){for(let o=0;o<n.length;o+=1)V(n[o]);s=!1},d(i){i&&_(e);for(let o=0;o<n.length;o+=1)n[o].d()}}}function wr(t){let e,n="No jobs available for the selected source.";return{c(){e=m("p"),e.textContent=n},l(r){e=g(r,"P",{"data-svelte-h":!0}),ce(e)!=="svelte-wfovle"&&(e.textContent=n)},m(r,s){B(r,e,s)},p:G,i:G,o:G,d(r){r&&_(e)}}}function wn(t,e){let n,r,s,a,l;return r=new sr({props:{job:e[34]}}),r.$on("refresh",Jn),{key:t,first:null,c(){n=m("div"),se(r.$$.fragment),s=D(),this.h()},l(i){n=g(i,"DIV",{});var o=v(n);ie(r.$$.fragment,o),s=S(o),o.forEach(_),this.h()},h(){this.first=n},m(i,o){B(i,n,o),oe(r,n,null),p(n,s),l=!0},p(i,o){e=i;const u={};o[0]&16&&(u.job=e[34]),r.$set(u)},i(i){l||(A(r.$$.fragment,i),i&&ze(()=>{l&&(a||(a=Ie(n,pt,{x:500,duration:700},!0)),a.run(1))}),l=!0)},o(i){V(r.$$.fragment,i),i&&(a||(a=Ie(n,pt,{x:500,duration:700},!1)),a.run(0)),l=!1},d(i){i&&_(n),le(r),i&&a&&a.end()}}}function yr(t){let e,n="Use the button above to tailor your cover letter to the job!",r,s,a;return{c(){e=m("p"),e.textContent=n,this.h()},l(l){e=g(l,"P",{class:!0,"data-svelte-h":!0}),ce(e)!=="svelte-ydh2ez"&&(e.textContent=n),this.h()},h(){c(e,"class","text-center text-sm")},m(l,i){B(l,e,i),a=!0},p:G,i(l){a||(l&&ze(()=>{a&&(s&&s.end(1),r=qt(e,je,{duration:300}),r.start())}),a=!0)},o(l){r&&r.invalidate(),l&&(s=Bt(e,je,{duration:300})),a=!1},d(l){l&&_(e),l&&s&&s.end()}}}function kr(t){let e,n,r,s,a;return{c(){e=m("div"),n=new Fn(!1),this.h()},l(l){e=g(l,"DIV",{class:!0});var i=v(e);n=On(i,!1),i.forEach(_),this.h()},h(){n.a=null,c(e,"class","cover-letter-content text-sm svelte-op7jjq")},m(l,i){B(l,e,i),n.m(t[10],e),a=!0},p(l,i){(!a||i[0]&1024)&&n.p(l[10])},i(l){a||(l&&ze(()=>{a&&(s&&s.end(1),r=qt(e,pt,{y:20,duration:300}),r.start())}),a=!0)},o(l){r&&r.invalidate(),l&&(s=Bt(e,je,{duration:300})),a=!1},d(l){l&&_(e),l&&s&&s.end()}}}function jr(t){let e,n,r="Drafting your next cover letter... this might take a moment!",s,a,l,i,o;return a=new lr({props:{class:"h-48 w-64"}}),{c(){e=m("div"),n=m("p"),n.textContent=r,s=D(),se(a.$$.fragment),this.h()},l(u){e=g(u,"DIV",{class:!0});var h=v(e);n=g(h,"P",{class:!0,"data-svelte-h":!0}),ce(n)!=="svelte-6mdy9t"&&(n.textContent=r),s=S(h),ie(a.$$.fragment,h),h.forEach(_),this.h()},h(){c(n,"class","mb-2 text-center text-sm"),c(e,"class","flex flex-col items-center justify-center")},m(u,h){B(u,e,h),p(e,n),p(e,s),oe(a,e,null),o=!0},p:G,i(u){o||(A(a.$$.fragment,u),u&&ze(()=>{o&&(i&&i.end(1),l=qt(e,je,{duration:300}),l.start())}),o=!0)},o(u){V(a.$$.fragment,u),l&&l.invalidate(),u&&(i=Bt(e,je,{duration:300})),o=!1},d(u){u&&_(e),le(a),u&&i&&i.end()}}}function Cr(t){let e,n,r,s;const a=[_r,br,hr],l=[];function i(o,u){return o[1]&&!o[2]?0:o[2]?1:2}return e=i(t),n=l[e]=a[e](t),{c(){n.c(),r=cn()},l(o){n.l(o),r=cn()},m(o,u){l[e].m(o,u),B(o,r,u),s=!0},p(o,u){let h=e;e=i(o),e===h?l[e].p(o,u):(rt(),V(l[h],1,1,()=>{l[h]=null}),at(),n=l[e],n?n.p(o,u):(n=l[e]=a[e](o),n.c()),A(n,1),n.m(r.parentNode,r))},i(o){s||(A(n),s=!0)},o(o){V(n),s=!1},d(o){o&&_(r),l[e].d(o)}}}function $r(t,e,n){let r,s,a,l,i,o,u,h,b,y,x;we(t,ae,f=>n(0,r=f)),we(t,St,f=>n(2,a=f)),we(t,dt,f=>n(3,l=f)),we(t,Tn,f=>n(4,i=f)),we(t,Pt,f=>n(6,u=f)),we(t,ke,f=>n(8,b=f)),we(t,It,f=>n(10,x=f));let{data:w}=e;const{initialised:j}=w;we(t,j,f=>n(1,s=f));const $=Mt(!1);we(t,$,f=>n(9,y=f));let k=gn({scale:1,rotate:0},{stiffness:.1,damping:.15});we(t,k,f=>n(5,o=f));let C=gn({scale:1,rotate:0},{stiffness:.1,damping:.15});we(t,C,f=>n(7,h=f));function P(){k.set({scale:1.05,rotate:5}),setTimeout(()=>{k.set({scale:1,rotate:0})},300)}function I(){C.set({scale:1.05,rotate:5}),setTimeout(()=>{C.set({scale:1,rotate:0})},300)}function q(f){(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),P())}function O(f){(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),I())}function J(f){dt.set(f.detail)}async function F(){if(await _e.askConfirmation("Are you sure you want to refresh job listings?","Confirm Refresh")){St.set(!0);try{await _e.tauriCommand("find_listings");const N=await _e.tauriCommand("get_unread_jobs");Pt.update(U=>{const Fe=new Set(U.map(me=>me.id)),X=N.filter(me=>!Fe.has(me.id));return[...U,...X]});const M=await _e.tauriCommand("get_stats");M&&(Nt.set(M.uniquejobs),Lt.set(M.appliedjobs));const L=ye(dt);dt.set(null),dt.set(L),console.log("Listings refreshed and new job records loaded from database")}catch(z){console.error("Error refreshing listings:",z),_e.showMessage(`Couldn't fetch job listings: ${z}`,"Error")}finally{St.set(!1)}}}async function T(){try{if(!await _e.askConfirmation("Save job application details?","Please Confirm"))return"";const z={...ke,name:r.name,experience:r.experience,interests:r.interests,projects:r.projects,education:r.education,certificates:r.certificates};await _e.tauriCommand("write_job_description",{content:JSON.stringify(z)}).then(async()=>_e.showMessage("Job application saved.","Success"))}catch{await _e.showMessage("Failed to save. Try again?",{title:"Could Not Save",type:"error"})}}async function ee(){try{if(!await _e.askConfirmation("Are you happy with your job application details? They will be sent to Claude AI",{title:"Please Confirm",type:"info"}))return;const z={job_title:ye(ke).jobTitle,company_name:ye(ke).company,job_description:ye(ke).jobDescription,key_requirements:ye(ke).keyRequirements,applicant_name:ye(ae).name,applicant_experience:ye(ae).experience,applicant_skills:ye(ae).interests,applicant_projects:ye(ae).projects,applicant_education:ye(ae).education,applicant_certificates:ye(ae).certificates};$.set(!0),It.set("");const N=await _e.tauriCommand("suggestions",{queryDetails:z});if(typeof N=="string")It.set(N);else throw new Error("Unexpected response from claude")}catch(f){await _e.showMessage(`Failed to generate cover letter: ${f}`,{title:"Error Generating Letter",type:"error"})}finally{$.set(!1)}}function te(f){t.$$.not_equal(b.jobTitle,f)&&(b.jobTitle=f,ke.set(b))}function W(f){t.$$.not_equal(b.company,f)&&(b.company=f,ke.set(b))}function ne(f){t.$$.not_equal(b.jobDescription,f)&&(b.jobDescription=f,ke.set(b))}function pe(f){t.$$.not_equal(b.keyRequirements,f)&&(b.keyRequirements=f,ke.set(b))}function H(f){t.$$.not_equal(r.name,f)&&(r.name=f,ae.set(r))}function Pe(f){t.$$.not_equal(r.experience,f)&&(r.experience=f,ae.set(r))}function Ne(f){t.$$.not_equal(r.interests,f)&&(r.interests=f,ae.set(r))}function R(f){t.$$.not_equal(r.projects,f)&&(r.projects=f,ae.set(r))}function re(f){t.$$.not_equal(r.education,f)&&(r.education=f,ae.set(r))}function Le(f){t.$$.not_equal(r.certificates,f)&&(r.certificates=f,ae.set(r))}return t.$$set=f=>{"data"in f&&n(23,w=f.data)},[r,s,a,l,i,o,u,h,b,y,x,j,$,k,C,P,I,q,O,J,F,T,ee,w,te,W,ne,pe,H,Pe,Ne,R,re,Le]}class Tr extends _t{constructor(e){super(),mt(this,e,$r,Cr,bt,{data:23},null,[-1,-1])}}export{Tr as component,Jr as universal};
