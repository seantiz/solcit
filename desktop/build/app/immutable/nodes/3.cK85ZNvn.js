import{s as M,e as p,t as P,a as T,c as h,b as C,d as z,f as _,g as B,m,i as k,h as g,j as A,v as R,l as I,w as N,n as L,r as W,x as X,y as F,z as Y,k as Z}from"../chunks/scheduler.D6LveowX.js";import{S as H,i as J,g as tt,t as x,c as et,a as D,b as nt,d as $,e as G,m as K,f as Q}from"../chunks/index.BX5eqv6I.js";import{j as S}from"../chunks/jobIO.DcVUEWxr.js";import"../chunks/jobHistory.D4H1ikTC.js";import{B as rt,c as q}from"../chunks/jobApplication.EIarE9WW.js";function st(l){let t,e="Edit",o,n;return{c(){t=p("button"),t.textContent=e,this.h()},l(s){t=h(s,"BUTTON",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-1120hyo"&&(t.textContent=e),this.h()},h(){m(t,"class","rounded bg-neutral-800 px-4 py-2 text-white")},m(s,r){k(s,t,r),o||(n=N(t,"click",l[4]),o=!0)},p:L,d(s){s&&_(t),o=!1,n()}}}function at(l){let t,e="Save",o,n,s="Cancel",r,i;return{c(){t=p("button"),t.textContent=e,o=T(),n=p("button"),n.textContent=s,this.h()},l(a){t=h(a,"BUTTON",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-11kkyhp"&&(t.textContent=e),o=B(a),n=h(a,"BUTTON",{class:!0,"data-svelte-h":!0}),I(n)!=="svelte-ag0vww"&&(n.textContent=s),this.h()},h(){m(t,"class","rounded bg-green-600 px-4 py-2 text-white"),m(n,"class","ml-2 rounded bg-red-600 px-4 py-2 text-white")},m(a,c){k(a,t,c),k(a,o,c),k(a,n,c),r||(i=[N(t,"click",l[5]),N(n,"click",l[6])],r=!0)},p:L,d(a){a&&(_(t),_(o),_(n)),r=!1,W(i)}}}function ot(l){let t,e;return{c(){t=p("div"),e=P(l[0]),this.h()},l(o){t=h(o,"DIV",{class:!0,style:!0});var n=C(t);e=z(n,l[0]),n.forEach(_),this.h()},h(){m(t,"class","rounded border px-3 py-2"),X(t,"white-space","pre-wrap")},m(o,n){k(o,t,n),g(t,e)},p(o,n){n&1&&A(e,o[0])},i:L,o:L,d(o){o&&_(t)}}}function lt(l){let t,e,o;function n(r){l[8](r)}let s={};return l[3]!==void 0&&(s.value=l[3]),t=new rt({props:s}),F.push(()=>nt(t,"value",n)),{c(){$(t.$$.fragment)},l(r){G(t.$$.fragment,r)},m(r,i){K(t,r,i),o=!0},p(r,i){const a={};!e&&i&8&&(e=!0,a.value=r[3],Y(()=>e=!1)),t.$set(a)},i(r){o||(D(t.$$.fragment,r),o=!0)},o(r){x(t.$$.fragment,r),o=!1},d(r){Q(t,r)}}}function it(l){let t,e,o,n,s,r,i,a,c,b;function E(u,d){return u[2]?at:st}let y=E(l),f=y(l);const V=[lt,ot],v=[];function O(u,d){return u[2]?0:1}return a=O(l),c=v[a]=V[a](l),{c(){t=p("div"),e=p("h2"),o=P(l[1]),n=T(),s=p("div"),f.c(),r=T(),i=p("div"),c.c(),this.h()},l(u){t=h(u,"DIV",{class:!0});var d=C(t);e=h(d,"H2",{class:!0});var w=C(e);o=z(w,l[1]),w.forEach(_),n=B(d),s=h(d,"DIV",{class:!0});var j=C(s);f.l(j),j.forEach(_),r=B(d),i=h(d,"DIV",{class:!0});var U=C(i);c.l(U),U.forEach(_),d.forEach(_),this.h()},h(){m(e,"class","mb-2 text-xl font-bold"),m(s,"class","mt-4"),m(i,"class","mt-4"),m(t,"class","p-4 text-sm")},m(u,d){k(u,t,d),g(t,e),g(e,o),g(t,n),g(t,s),f.m(s,null),g(t,r),g(t,i),v[a].m(i,null),b=!0},p(u,[d]){(!b||d&2)&&A(o,u[1]),y===(y=E(u))&&f?f.p(u,d):(f.d(1),f=y(u),f&&(f.c(),f.m(s,null)));let w=a;a=O(u),a===w?v[a].p(u,d):(tt(),x(v[w],1,1,()=>{v[w]=null}),et(),c=v[a],c?c.p(u,d):(c=v[a]=V[a](u),c.c()),D(c,1),c.m(i,null))},i(u){b||(D(c),b=!0)},o(u){x(c),b=!1},d(u){u&&_(t),f.d(),v[a].d()}}}function ct(l,t,e){let{title:o}=t,{content:n=""}=t,s=!1,r=n;const i=R();function a(){e(2,s=!1),e(0,n=r),i("update",n)}function c(){e(2,s=!0),e(3,r=n)}function b(){i("save",r)}function E(){e(2,s=!1),e(3,r=n)}function y(f){r=f,e(3,r)}return l.$$set=f=>{"title"in f&&e(1,o=f.title),"content"in f&&e(0,n=f.content)},[n,o,s,r,c,b,E,a,y]}class ut extends H{constructor(t){super(),J(this,t,ct,it,M,{title:1,content:0,confirmSave:7})}get confirmSave(){return this.$$.ctx[7]}}function ft(l){let t,e,o,n={title:"Cover Letter",content:l[1]};return e=new ut({props:n}),l[3](e),e.$on("update",l[2]),e.$on("save",l[2]),{c(){t=p("div"),$(e.$$.fragment),this.h()},l(s){t=h(s,"DIV",{class:!0});var r=C(t);G(e.$$.fragment,r),r.forEach(_),this.h()},h(){m(t,"class","h-screen w-full")},m(s,r){k(s,t,r),K(e,t,null),o=!0},p(s,[r]){const i={};r&2&&(i.content=s[1]),e.$set(i)},i(s){o||(D(e.$$.fragment,s),o=!0)},o(s){x(e.$$.fragment,s),o=!1},d(s){s&&_(t),l[3](null),Q(e)}}}function dt(l,t,e){let o;Z(l,q,a=>e(1,o=a));let n;async function s(a){try{await S.askConfirmation("Any previous content will be overwritten.",{title:"Save New Cover Letter?",type:"info"})&&(n.confirmSave(),q.set(a.detail),await r(a.detail),a.type==="save"&&await S.showMessage("Saved cover letter."))}catch{await S.showMessage("Error saving letter!",{title:"Failed to Save Letter",type:"error"})}}async function r(a){await S.tauriCommand("write_config_file",{content:JSON.stringify({coverLetter:a})})}function i(a){F[a?"unshift":"push"](()=>{n=a,e(0,n)})}return[n,o,s,i]}class bt extends H{constructor(t){super(),J(this,t,dt,ft,M,{})}}export{bt as component};
